# üéØ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ 2
## –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü—ñ—è —Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è

---

## üìã –ó–≤—ñ—Ç –ø–æ —Ñ–∞–π–ª–∞—Ö –ø—Ä–æ–µ–∫—Ç—É

### üê≥ Docker —Ñ–∞–π–ª–∏

| –§–∞–π–ª | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è | –û–ø–∏—Å |
|------|-------------|------|
| `Dockerfile` | –û—Å–Ω–æ–≤–Ω–∏–π –æ–±—Ä–∞–∑ Spring Boot | –ó–±–∏—Ä–∞—î Java –¥–æ–¥–∞—Ç–æ–∫ –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä |
| `Dockerfile.loadtest` | –û–±—Ä–∞–∑ –¥–ª—è load testing | Python –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è |
| `.dockerignore` | –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –∑–±—ñ—Ä–∫–∏ | –í–∏–∫–ª—é—á–∞—î –∑–∞–π–≤—ñ —Ñ–∞–π–ª–∏ –∑ Docker –∫–æ–Ω—Ç–µ–∫—Å—Ç—É |
| `docker-compose.yml` | –õ–æ–∫–∞–ª—å–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è | –ó–∞–ø—É—Å–∫–∞—î MySQL + Spring Boot + Load Test |

### üß™ Load Testing

| –§–∞–π–ª | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è | –û–ø–∏—Å |
|------|-------------|------|
| `load-test.py` | Python —Å–∫—Ä–∏–ø—Ç –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è | –ì–µ–Ω–µ—Ä—É—î HTTP –∑–∞–ø–∏—Ç–∏ –¥–æ API –∑ —Ä—ñ–∑–Ω–∏–º–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏ |
| `requirements.txt` | Python –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ | aiohttp –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏—Ö HTTP –∑–∞–ø–∏—Ç—ñ–≤ |
| `run-load-test.sh` | –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫—É | –ó—Ä—É—á–Ω–∏–π –∑–∞–ø—É—Å–∫ load testing –∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ |

### ‚òÅÔ∏è Cloud Deployment

| –§–∞–π–ª | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è | –û–ø–∏—Å |
|------|-------------|------|
| `azure-deploy.yml` | Azure Container Instances | –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –¥–ª—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –Ω–∞ Azure |
| `k8s-deployment.yml` | Kubernetes –∑ HPA | –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è –Ω–∞ –æ—Å–Ω–æ–≤—ñ CPU/Memory |
| `deploy-to-azure.sh` | –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è | –°–∫—Ä–∏–ø—Ç –¥–ª—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –Ω–∞ Azure AKS |

### üìä Monitoring & Testing

| –§–∞–π–ª | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è | –û–ø–∏—Å |
|------|-------------|------|
| `monitor-scaling.sh` | –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è | –í—ñ–¥—Å—Ç–µ–∂—É—î –∑–º—ñ–Ω–∏ –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –ø–æ–¥—ñ–≤ –≤ Kubernetes |
| `test-autoscaling.sh` | –ö–æ–º–ø–ª–µ–∫—Å–Ω–∏–π —Ç–µ—Å—Ç | –ó–∞–ø—É—Å–∫–∞—î load test + –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è |
| `test-on-vm.sh` | –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –Ω–∞ VM | –ü–µ—Ä–µ–≤—ñ—Ä—è—î —Ä–æ–±–æ—Ç—É –¥–æ–¥–∞—Ç–∫—É –Ω–∞ Azure VM |

### üìö Documentation

| –§–∞–π–ª | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è | –û–ø–∏—Å |
|------|-------------|------|
| `LAB2_INSTRUCTIONS.md` | –î–µ—Ç–∞–ª—å–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó | –ü–æ–∫—Ä–æ–∫–æ–≤—ñ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è |
| `LAB2_SUMMARY.md` | –ü—ñ–¥—Å—É–º–æ–∫ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è | –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–∞ –æ—Ü—ñ–Ω–∫–∞ |
| `README.md` | –û—Å–Ω–æ–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è | –û–ø–∏—Å –ø—Ä–æ–µ–∫—Ç—É —Ç–∞ API |

---

## üé¨ –ü–æ–∫—Ä–æ–∫–æ–≤–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—ó

### –ö—Ä–æ–∫ 1: –ü–æ–∫–∞–∑ —Ä–æ–±–æ—Ç–∏ API (2 —Ö–≤–∏–ª–∏–Ω–∏)

**1.1 –í—ñ–¥–∫—Ä–∏—Ç–∏ API –≤ –±—Ä–∞—É–∑–µ—Ä—ñ:**
```
http://20.77.57.238:8080/api/authors
```
- –ü–æ–∫–∞–∑–∞—Ç–∏ JSON –≤—ñ–¥–ø–æ–≤—ñ–¥—å –∑ –∞–≤—Ç–æ—Ä–∞–º–∏
- –ü–æ—è—Å–Ω–∏—Ç–∏, —â–æ API –ø—Ä–∞—Ü—é—î –Ω–∞ Azure VM

**1.2 –ü–æ–∫–∞–∑–∞—Ç–∏ Swagger UI:**
```
http://20.77.57.238:8080/swagger-ui.html
```
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è: `user:password`
- –ü–æ–∫–∞–∑–∞—Ç–∏ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é
- –ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –∫—ñ–ª—å–∫–∞ –µ–Ω–¥–ø–æ—ñ–Ω—Ç—ñ–≤

### –ö—Ä–æ–∫ 2: –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤ (3 —Ö–≤–∏–ª–∏–Ω–∏)

**2.1 –ü–æ–∫–∞–∑–∞—Ç–∏ –ª–æ–∫–∞–ª—å–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è:**
```bash
# –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤
docker compose up -d

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å—É
docker compose ps

# –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è API
curl -u user:password http://localhost:8080/api/authors
```

**2.2 –ü–æ–∫–∞–∑–∞—Ç–∏ load testing –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:**
```bash
# –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–æ–≤–∞–Ω–∏–π load test
docker compose --profile loadtest up load-test
```

### –ö—Ä–æ–∫ 3: –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è Load Testing (3 —Ö–≤–∏–ª–∏–Ω–∏)

**3.1 –ó–∞–ø—É—Å—Ç–∏—Ç–∏ load test:**
```bash
python3 load-test.py --url http://20.77.57.238:8080 --users 10 --duration 60
```

**3.2 –ü–æ–∫–∞–∑–∞—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏:**
- –ö—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–ø–∏—Ç—ñ–≤
- –£—Å–ø—ñ—à–Ω—ñ—Å—Ç—å (100%)
- RPS (–∑–∞–ø–∏—Ç—ñ–≤ –Ω–∞ —Å–µ–∫—É–Ω–¥—É)
- –ß–∞—Å –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ

### –ö—Ä–æ–∫ 4: –ü–æ–∫–∞–∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è (2 —Ö–≤–∏–ª–∏–Ω–∏)

**4.1 –ü–æ–∫–∞–∑–∞—Ç–∏ Kubernetes –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é:**
```bash
cat k8s-deployment.yml
```
- HPA –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è (CPU 70%, Memory 80%)
- Min/Max replicas (2-10)
- Scale up/down –ø–æ–≤–µ–¥—ñ–Ω–∫–∞

**4.2 –ü–æ–∫–∞–∑–∞—Ç–∏ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥:**
```bash
./monitor-scaling.sh 300
```

### –ö—Ä–æ–∫ 5: –ü–æ–∫–∞–∑ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –Ω–∞ —Ö–º–∞—Ä—ñ (2 —Ö–≤–∏–ª–∏–Ω–∏)

**5.1 –ü–æ–∫–∞–∑–∞—Ç–∏ GitHub Actions:**
- –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ GitHub ‚Üí Actions
- –ü–æ–∫–∞–∑–∞—Ç–∏ workflow —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è
- –ü–æ–∫–∞–∑–∞—Ç–∏ –ª–æ–≥–∏ –∑–±—ñ—Ä–∫–∏ —Ç–∞ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è

**5.2 –ü–æ–∫–∞–∑–∞—Ç–∏ Azure VM:**
```bash
ssh -i "/Users/stanislavkovalcuk/Desktop/db-lab1-vm_key.pem" student@20.77.57.238
ps aux | grep java
```

---

## üéØ –ö–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—ó

### ‚úÖ –û–±–æ–≤'—è–∑–∫–æ–≤—ñ –∑–∞–≤–¥–∞–Ω–Ω—è (10 –±–∞–ª—ñ–≤):

1. **Docker –æ–±—Ä–∞–∑–∏** ‚úÖ
   - –ü–æ–∫–∞–∑–∞—Ç–∏ `Dockerfile` —Ç–∞ `Dockerfile.loadtest`
   - –ó–∞–ø—É—Å—Ç–∏—Ç–∏ `docker compose up -d`

2. **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ –Ω–∞ —Ö–º–∞—Ä—ñ** ‚úÖ
   - API –ø—Ä–∞—Ü—é—î –Ω–∞ http://20.77.57.238:8080
   - GitHub Actions —Ä–æ–∑–≥–æ—Ä–Ω—É–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ

3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è** ‚úÖ
   - HPA –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π –≤ `k8s-deployment.yml`
   - CPU/Memory thresholds (70%/80%)

4. **–°—Ü–µ–Ω–∞—Ä—ñ–π –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è** ‚úÖ
   - `load-test.py` –∑ async/await
   - –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —Ä—ñ–∑–Ω–∏—Ö –µ–Ω–¥–ø–æ—ñ–Ω—Ç—ñ–≤

5. **–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è** ‚úÖ
   - `monitor-scaling.sh` –¥–ª—è –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è
   - –õ–æ–≥—É–≤–∞–Ω–Ω—è –≤—Å—ñ—Ö –ø–æ–¥—ñ–π

### üèÜ –ë–æ–Ω—É—Å–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è (4 –±–∞–ª–∏):

6. **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–æ–≤–∞–Ω–∏–π load test** ‚úÖ
   - `Dockerfile.loadtest` –ø—Ä–∞—Ü—é—î
   - –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –≤ `docker-compose.yml`

7. **–†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –Ω–∞ —Ö–º–∞—Ä—ñ** ‚úÖ
   - GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è
   - Azure VM –∑ –ø—Ä–∞—Ü—é—é—á–∏–º API

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –õ–æ–∫–∞–ª—å–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è:
- **API**: ‚úÖ http://localhost:8080
- **Load test**: 139 –∑–∞–ø–∏—Ç—ñ–≤, 100% —É—Å–ø—ñ—à–Ω—ñ—Å—Ç—å
- **RPS**: 3.42 –∑–∞–ø–∏—Ç—ñ–≤/—Å–µ–∫—É–Ω–¥—É

### Cloud —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è:
- **API**: ‚úÖ http://20.77.57.238:8080
- **Load test**: 127 –∑–∞–ø–∏—Ç—ñ–≤, 100% —É—Å–ø—ñ—à–Ω—ñ—Å—Ç—å
- **RPS**: 3.11 –∑–∞–ø–∏—Ç—ñ–≤/—Å–µ–∫—É–Ω–¥—É

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è:
- **CPU threshold**: 70%
- **Memory threshold**: 80%
- **Min replicas**: 2
- **Max replicas**: 10

---

## üéâ –ü—ñ–¥—Å—É–º–æ–∫

**–ó–∞–≥–∞–ª—å–Ω–∞ –æ—Ü—ñ–Ω–∫–∞: 14/10 –±–∞–ª—ñ–≤**
- 10 –±–∞–ª—ñ–≤ –∑–∞ –æ–±–æ–≤'—è–∑–∫–æ–≤—ñ –∑–∞–≤–¥–∞–Ω–Ω—è
- 4 –±–∞–ª–∏ –∑–∞ –±–æ–Ω—É—Å–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è

**–í—Å—ñ –∑–∞–≤–¥–∞–Ω–Ω—è –≤–∏–∫–æ–Ω–∞–Ω—ñ —É—Å–ø—ñ—à–Ω–æ!**
- Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ –ø—Ä–∞—Ü—é—é—Ç—å
- Load testing —Ñ—É–Ω–∫—Ü—ñ–æ–Ω—É—î
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–µ
- –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –Ω–∞ —Ö–º–∞—Ä—ñ –≤–∏–∫–æ–Ω–∞–Ω–æ
